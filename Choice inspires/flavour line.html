<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG Draw on Scroll</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            background-color: #fdf5e6; /* Papaya Whip */
        }
        .scroll-container {
            height: 300vh; /* Make the page long enough to scroll */
        }
        .svg-container {
            position: sticky;
            top: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        svg {
            width: 80%;
            max-width: 800px;
            height: auto;
        }
        /* Style the line to be drawn */
        #flavor-path {
            stroke: #d2691e; /* Chocolate color */
            stroke-width: 4;
            stroke-linecap: round;
            fill: none;
        }
        /* Hide the ingredient icons initially */
        .ingredient {
            opacity: 0;
            transform-origin: center;
            transform: scale(0.5);
        }
    </style>
</head>
<body>
    <div class="scroll-container">
        <div class="svg-container">
            <svg viewBox="0 0 800 400" preserveAspectRatio="xMidYMid meet">
                <path id="flavor-path" d="M50,350 C150,50 300,50 400,200 S650,350 750,50" />
                
                <text class="ingredient" id="ingredient1" x="50" y="350" font-size="30">üç´</text>
                <text class="ingredient" id="ingredient2" x="400" y="200" font-size="30">ü•õ</text>
                <text class="ingredient" id="ingredient3" x="750" y="50" font-size="30">üç¶</text>
            </svg>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script>
        gsap.registerPlugin(ScrollTrigger);

        const path = document.querySelector("#flavor-path");
        const pathLength = path.getTotalLength();

        // Set up the "drawing" effect by creating a dash pattern
        path.style.strokeDasharray = pathLength;
        path.style.strokeDashoffset = pathLength;

        // Create a GSAP timeline
        const tl = gsap.timeline({
            scrollTrigger: {
                trigger: ".scroll-container",
                start: "top top",
                end: "bottom bottom",
                scrub: 1 // Links animation progress directly to scroll
            }
        });

        // Animate the line drawing
        tl.to(path, { strokeDashoffset: 0 }, 0); // Animate the offset to 0 to "draw" the line

        // Animate the icons appearing
        tl.to("#ingredient1", { opacity: 1, scale: 1 }, 0); // At the start (0)
        tl.to("#ingredient2", { opacity: 1, scale: 1 }, 0.5); // At 50% through the timeline
        tl.to("#ingredient3", { opacity: 1, scale: 1 }, 0.9); // At 90% through the timeline
    </script>
</body>
</html>